{"version":3,"file":"syntaxhighlighter.min.js","sources":["../src/syntaxhighlighter.js"],"sourcesContent":["// ver: 2.0 [2025.12.02] moving to new repo\n\n\ndefine(['jquery'], function($) {\n    return {\n        init: function() {\n            window.console.log(\"Syntax highlighter init 3.1\");\n\n/*************************************************************************************/\n/*      Metody pomocnicze do ekstrakcji i przetwarzania kodu źródłowego              */\n/*************************************************************************************/\n            $.fn.extractCodeData = function() {\n                let codeEl = $(this).find(\"code.githubcode\").first();\n                if (!codeEl.length) {return null;}\n\n                return {\n                    code: codeEl.text(),\n                    classes: codeEl.attr(\"class\") || \"\",\n                    attrs: codeEl.prop(\"attributes\")\n                };\n            };\n\n/*************************************************************************************/\n/*      Konwersja na wieloliniowy format HTML                                        */\n/*************************************************************************************/\n\n            $.fn.convertToMultiline = function(code) {\n                let lines = code.replace(/\\n$/, \"\").split(\"\\n\");\n                let html = \"\";\n\n                lines.forEach(function(line) {\n                    html += \"<span class='line'>\" +  $(\"<div>\").text(line).html() + \"</span>\\n\";\n                });\n\n                $(this).html(html);\n                return this;\n            };\n\n/*************************************************************************************/\n/*      Parsowanie kodu                                                              */\n/*************************************************************************************/\n            $(\".githubcode\").each(function() {\n                window.console.log(\"Processing element: \", this);\n                let codeData = $(this).extractCodeData();\n                if (codeData === null) {return;}\n                window.console.log(\"Processing code with classes: \" + codeData.code);\n                window.console.log(\"Processing code with classes: \" + codeData.classes);\n                window.console.log(\"Processing code with classes: \" + codeData.attrs);\n            });\n        },\n    };\n});\n\n// define(['jquery'], function($) {\n//     return {\n//         init: function() {\n//             window.console.log(\"Syntax highlighter init 3.0\");\n//             $.fn.parseCodeSplit = function(regexp,type) {\n//                 let splitHtml = $(this).html().split(/(<span.*?\\/span>)/gi);\n//                 for(let i=0;i<splitHtml.length;i+=2)\n//                 {\n//                     splitHtml[i] = splitHtml[i].replace(regexp,'<span class=\"'+type+'\">$1</span>');\n//                 }\n//                 return splitHtml.join(\"\");\n//             };\n\n//             $.fn.parseCode = function(regexp,type) {\n\n//                 return $(this).html().replace(regexp,'<span class=\"'+type+'\">$1</span>');\n//             };\n\n//             $.fn.matchCode = function(regexp) {\n//                 let splitHtml = $(this).html().split(/(<span.*?\\/span>)/gi);\n//                 for(let i=0;i<splitHtml.length;i+=2)\n//                 {\n//                     if(splitHtml[i].match(regexp)) {return true;}\n//                 }\n//                 return false;\n//             };\n\n//             // $(\".chParser_JS\").each(function() {\n//             $(\".syntaxhighlighter\").each(function() {\n//                 /// do przerobienia\n//                 // window.console.log(this.className);\n//                 let re = RegExp(\"chLang_([a-zA-Z]+)\",\"gm\");\n//                 let strippedLangName;\n//                 strippedLangName = re.exec(this.className);\n//                 // window.console.log(\"Lang \"+strippedLangName[1]);\n//                 let langname = strippedLangName[1];\n//                 if($.inArray(langname, ['cpp','python','cmd','php']) < 0) {return;}\n//                 ////////////////////////////\n//                 let pres = $(this).find(\"td:eq(1) pre\" );\n//                 require(['filter_codehighlighter/'+langname], function(lang_data) {\n//                     if(lang_data == undefined) {return;}\n//                     let artx = [];\n//                     lang_data.text.forEach(function(el) {\n//                         artx.push(\"\\\\\"+el+\".*?\"+\"\\\\\"+el);\n//                     });\n//                     let regtx = new RegExp(\"(\"+artx.join('|')+\")\",\"g\");\n//                     let regky = [];\n//                     for(let k in lang_data.keywords) {\n//                         if (lang_data.keywords.hasOwnProperty(k)) {\n//                             regky.push(new RegExp(\"\\\\b(\"+\n//                             lang_data.keywords[k].join(\"|\")+\n//                             \")\\\\b\",lang_data.casesensitive[k]?\"g\":\"gi\"));\n//                         }\n//                     }\n//                     // window.console.log(regky);\n//                     let regcm = [];\n//                     lang_data.comment.forEach(function(el) {\n//                         regcm.push(el+\".*\");\n//                     });\n//                     for(let i=0;i<lang_data.multicomment.length;i+=2) {\n//                         regcm.push(lang_data.multicomment[i]+\".*?\"+lang_data.multicomment[i+1]);\n//                     }\n//                     pres.each(function() {\n//                         $(this).html($(this).parseCodeSplit(regtx,'text'));\n//                     });\n//                     for(let i=0;i<lang_data.multicomment.length;i+=2) {\n//                         let cs = 0;\n//                         let mc_b = lang_data.multicomment[i];\n//                         let mc_e = lang_data.multicomment[i+1];\n//                         pres.each(function() {\n//                             if(cs) {\n//                                 $(this).html($(this).parseCode(new RegExp(\"(^.*?($|\"+mc_e+\"))\",\"g\"),'multicomment'));\n//                                 if($(this).html().match(new RegExp(\"(\"+mc_e+\")\"),\"g\")) {\n//                                     cs = 0;\n//                                 }\n//                             }\n//                             else {\n//                                 $(this).html($(this).parseCode(new RegExp(\"(\"+regcm.join(\"|\")+\")\"),'comment'));\n//                             }\n//                             let rmc_b = new RegExp(\"(\"+mc_b + \"((?!\"+mc_e + \").)*$)\",\"g\");\n//                             if($(this).matchCode(rmc_b)) {\n//                                 $(this).html($(this).parseCode(rmc_b,'multicomment'));\n//                                 cs = 1;\n//                             }\n//                         });\n//                     }\n//                     pres.each(function() {\n//                         for(let i=0;i<regky.length;++i) {\n//                             $(this).html($(this).parseCodeSplit(regky[i],'keyword'+(i+1)));\n//                         }\n//                         $(this).html($(this).parseCodeSplit(new RegExp(\"\\\\b(\"+lang_data.number+\")\\\\b\",\"g\"),'dec-number'));\n//                     });\n//                 });\n//             });\n//         }\n//     };\n// });"],"names":["define","$","init","window","console","log","fn","extractCodeData","codeEl","this","find","first","length","code","text","classes","attr","attrs","prop","convertToMultiline","lines","replace","split","html","forEach","line","each","codeData"],"mappings":"AAGAA,6CAAO,CAAC,WAAW,SAASC,SACjB,CACHC,KAAM,WACFC,OAAOC,QAAQC,IAAI,+BAKnBJ,EAAEK,GAAGC,gBAAkB,eACfC,OAASP,EAAEQ,MAAMC,KAAK,mBAAmBC,eACxCH,OAAOI,OAEL,CACHC,KAAML,OAAOM,OACbC,QAASP,OAAOQ,KAAK,UAAY,GACjCC,MAAOT,OAAOU,KAAK,eALK,MAahCjB,EAAEK,GAAGa,mBAAqB,SAASN,UAC3BO,MAAQP,KAAKQ,QAAQ,MAAO,IAAIC,MAAM,MACtCC,KAAO,UAEXH,MAAMI,SAAQ,SAASC,MACnBF,MAAQ,sBAAyBtB,EAAE,SAASa,KAAKW,MAAMF,OAAS,eAGpEtB,EAAEQ,MAAMc,KAAKA,MACNd,MAMXR,EAAE,eAAeyB,MAAK,WAClBvB,OAAOC,QAAQC,IAAI,uBAAwBI,UACvCkB,SAAW1B,EAAEQ,MAAMF,kBACN,OAAboB,WACJxB,OAAOC,QAAQC,IAAI,iCAAmCsB,SAASd,MAC/DV,OAAOC,QAAQC,IAAI,iCAAmCsB,SAASZ,SAC/DZ,OAAOC,QAAQC,IAAI,iCAAmCsB,SAASV"}